{"version":3,"sources":["StarVisualization.js","hooks/useD3.js","Slider.js","Checkbox.js","App.js","reportWebVitals.js","index.js"],"names":["TAU","Math","PI","crange","n","offset","Array","from","keys","map","v","getStarLines","d","starScale","unorderedPoints","a","cos","sin","numStars","x","y","abs","t","gcd","lines","star","up","filter","_","ix","points","length","getConnectingLines","asXY","ang","r","getLivePointPositions","time","pointiness","circleRadius","circleCenterRadius","circleAngs","pointAngs","forEach","cAng","circleCenter","p","x0","y0","xyPlus","push","endPoints","arrayToPush","result","undefined","StarVisualization","starParameters","timeParameters","showParameters","transitionTime","showStar","showIntraShapes","showInterShapes","showPoints","height","width","margin","starLineData","testPoints","intracircleLineData","i","subPoints","j","getIntracircleLines","intercircleLineData","getIntercircleLines","ref","renderChartFn","dependencies","React","useRef","useEffect","d3","current","useD3","svg","scale","domain","rangeRound","select","selectAll","data","join","transition","duration","ease","attr","l","display","viewBox","className","Slider","props","setValue","id","label","params","htmlFor","onChange","event","parseFloat","target","value","type","style","minWidth","Checkbox","checked","App","useState","setTime","setN","dRaw","setD","min","setPointiness","setStarScale","setShowStar","setShowIntraShapes","setShowInterShapes","setShowPoints","sliders","max","step","checkboxes","setInterval","newTime","timeIncrementPerS","href","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.edcdce4f.chunk.js","sourcesContent":["import { useD3 } from './hooks/useD3';\nimport React from 'react';\nimport * as d3 from 'd3';\n\nconst TAU = 2 * Math.PI;\n\n// https://www.w3resource.com/javascript-exercises/javascript-math-exercise-8.php\nconst gcd = function (x, y) {\n  x = Math.abs(x);\n  y = Math.abs(y);\n  while(y) {\n    var t = y;\n    y = x % y;\n    x = t;\n  }\n  return x;\n}\n\nconst crange = (n, offset) => {\n  offset = offset ?? 0;\n  return Array\n    .from(Array(n).keys())\n    .map(v => (TAU * (v / n + offset)));\n}\n\nconst getStarLines = ({ n, d, starScale }) => {\n  // Construct the correct number of points at equal distances around a circle\n  const unorderedPoints = crange(n)\n    .map(a => [starScale * Math.cos(a), starScale * Math.sin(a)]);\n\n  // Group points by star, and build lines\n  const numStars = gcd(n, d);\n  const pointsPerStar = n / numStars;\n  const lines = [];\n  for (let star=0; star<numStars; star++) {\n    const up = unorderedPoints\n      .filter((_, ix) => ix % numStars == star);\n    const points = up.map((_, ix) => up[(d/numStars)*ix % up.length]);\n    getConnectingLines(points, lines);\n  }\n  return lines;\n}\n\nconst asXY = (ang, r) => [(r ?? 1) * Math.cos(ang), (r ?? 1) * Math.sin(ang)];\n\nconst xyPlus = ([x0, y0], [x1, y1]) => [x0+x1, y0+y1];\n\nconst getLivePointPositions = ({ n, d, pointiness }, time) => {\n  // The radii of the outer circles\n  const circleRadius = d / n;\n  // The radius from the center of the image to the outer circle centers\n  const circleCenterRadius = 1 - circleRadius;\n  // The angles of the circles\n  const circleAngs = crange(n - d, time);\n  // The angles of the points relative to the circle centers. When the circles move CCW by 1 unit, they will rotate CW by r - 1 units.\n  // const pointAngs = crange(d, time * (1 - n/d));\n  const pointAngs = crange(d, time * (1 - n/d));\n\n  const points = [];\n  circleAngs.forEach((cAng) => {\n    const circleCenter = asXY(cAng, circleCenterRadius);\n    pointAngs.forEach((ang) => {\n      const p = xyPlus(circleCenter, asXY(ang, circleRadius*pointiness)); // NOTE: Tweak to affect circle smoothness!\n      points.push(p);\n    });\n  });\n  \n  return points;\n}\n\nconst getConnectingLines = (endPoints, arrayToPush) => {\n  const result = endPoints.map((_, ix) => [endPoints[ix], endPoints[(ix+1) % endPoints.length]]);\n  if (arrayToPush == undefined) {\n    return result;\n  }\n  result.forEach(r => arrayToPush.push(r));\n}\n\nconst getIntracircleLines = ({n, d}, testPoints) => {\n  const lines = [];\n  for (let i=0; i<n-d; ++i) {\n    const subPoints = [];\n    for (let j=0; j<d; ++j) {\n      subPoints.push(testPoints[i*d + j]);\n    }\n    getConnectingLines(subPoints, lines);\n  }\n  return lines;\n}\n\nconst getIntercircleLines = ({n, d}, testPoints) => {\n  const lines = [];\n  for (let j=0; j<d; ++j) {\n    const subPoints = [];\n    for (let i=0; i<n-d; ++i) {\n      subPoints.push(testPoints[i*d + j]);\n    }\n    getConnectingLines(subPoints, lines);\n  }\n  return lines;\n}\n\nconst StarVisualization = ({ starParameters, timeParameters, showParameters }) => {\n\n  const {time, transitionTime} = timeParameters;\n  const {showStar, showIntraShapes, showInterShapes, showPoints} = showParameters;\n\n  const height = 600;\n  const width = 600;\n  const margin = { top: 20, right: 20, bottom: 20, left: 20 };\n\n  const starLineData = getStarLines(starParameters, 1);\n  const testPoints = getLivePointPositions(starParameters, time);\n  const intracircleLineData = getIntracircleLines(starParameters, testPoints);\n  const intercircleLineData = getIntercircleLines(starParameters, testPoints);\n\n  const ref = useD3(\n    (svg) => {\n      const scale = d3.scaleLinear;\n      const x = scale()\n        .domain([-1, 1])\n        .rangeRound([margin.left, width - margin.right]);\n\n      const y = scale()\n        .domain([-1, 1])\n        .rangeRound([margin.top, height - margin.bottom]);\n\n      const starLines = svg\n        .select(\".plot-area\")\n        .selectAll(\".starline\")\n        .data(starLineData)\n        .join(\"line\");\n      \n      starLines\n        .transition()\n        .duration(transitionTime)\n        .ease(d3.easeLinear)\n        .attr(\"class\", \"starline\")\n        .attr(\"stroke\", \"yellow\")\n        .attr(\"x1\", l => x(l[0][0]))\n        .attr(\"y1\", l => x(l[0][1]))\n        .attr(\"x2\", l => x(l[1][0]))\n        .attr(\"y2\", l => x(l[1][1]))\n        .attr(\"opacity\", showStar ? 1 : 0);\n\n      const intercircleLines = svg\n        .select(\".plot-area\")\n        .selectAll(\".intercircleline\")\n        .data(intercircleLineData)\n        .join(\"line\");\n      \n      intercircleLines\n        .transition()\n        .duration(transitionTime)\n        .ease(d3.easeLinear)\n        .attr(\"class\", \"intercircleline\")\n        .attr(\"stroke\", \"red\")\n        .attr(\"x1\", l => x(l[0][0]))\n        .attr(\"y1\", l => x(l[0][1]))\n        .attr(\"x2\", l => x(l[1][0]))\n        .attr(\"y2\", l => x(l[1][1]))\n        .attr(\"opacity\", showInterShapes ? 1 : 0);\n\n      const intracircleLines = svg\n        .select(\".plot-area\")\n        .selectAll(\".intracircleline\")\n        .data(intracircleLineData)\n        .join(\"line\");\n      \n      intracircleLines\n        .transition()\n        .duration(transitionTime)\n        .ease(d3.easeLinear)\n        .attr(\"class\", \"intracircleline\")\n        .attr(\"stroke\", \"green\")\n        .attr(\"x1\", l => x(l[0][0]))\n        .attr(\"y1\", l => x(l[0][1]))\n        .attr(\"x2\", l => x(l[1][0]))\n        .attr(\"y2\", l => x(l[1][1]))\n        .attr(\"opacity\", showIntraShapes ? 1 : 0);\n\n      const scatterPoints = svg\n        .select(\".plot-area\")\n        .attr(\"fill\", \"steelblue\")\n        .selectAll(\".scatterpoint\")\n        .data(testPoints)\n        .join(\"circle\");\n\n      scatterPoints\n        .transition()\n        .duration(transitionTime)\n        .ease(d3.easeLinear)\n        .attr(\"class\", \"scatterpoint\")\n        .attr(\"cx\", p => x(p[0]))\n        .attr(\"cy\", p => y(p[1]))\n        .attr(\"r\", 10)\n        .attr(\"fill\", \"blue\")\n        .attr(\"opacity\", showPoints ? 1 : 0);\n    },\n    [time, showParameters, starParameters]\n  );\n\n\n  return (\n    <svg\n      ref={ref}\n      display=\"block\"\n      margin=\"auto\"\n      viewBox={[0, 0, width, height].join(\" \")}\n    >\n      <g className=\"plot-area\" />\n    </svg>\n  );\n}\n\nexport default StarVisualization;\n","// https://www.pluralsight.com/guides/using-d3.js-inside-a-react-app\nimport React from 'react';\nimport * as d3 from 'd3';\n\nexport const useD3 = (renderChartFn, dependencies) => {\n    const ref = React.useRef();\n\n    React.useEffect(() => {\n        renderChartFn(d3.select(ref.current));\n        return () => {};\n      }, dependencies);\n    return ref;\n}\n","function Slider(props) {\n  const {setValue, id, label, ...params} = props;\n  function onChange(event) {\n    setValue(parseFloat(event.target.value));\n  }\n  return (\n    <tr>\n      <th> <label htmlFor={id}>{label}</label> </th>\n      <th> <input onChange={onChange} type=\"range\" className=\"slider\" id={id} {...params} /> </th>\n      <th style={{minWidth: \"4em\"}}> {params.value} </th>\n    </tr>\n  );\n}\n\nexport default Slider;\n","function Checkbox(props) {\n  const {setValue, id, label, ...params} = props;\n  function onChange(event) {\n    setValue(event.target.checked);\n  }\n  return (\n    <tr>\n      <th> <label htmlFor={id}>{label}</label> </th>\n      <th> <input onChange={onChange} type=\"checkbox\" className=\"checkbox\" id={id} {...params} /> </th>\n    </tr>\n  );\n}\n\nexport default Checkbox;\n","import React, { useState, useEffect } from 'react';\nimport StarVisualization from './StarVisualization';\nimport Slider from './Slider';\nimport Checkbox from './Checkbox';\nimport './App.css';\n\nconst DEFAULT_N = 7;\nconst DEFAULT_D = 3;\nconst DEFAULT_POINTINESS = 0.8;\n\nfunction App() {\n  const [time, setTime] = useState(0);\n  const [n, setN] = useState(DEFAULT_N);\n  const [dRaw, setD] = useState(DEFAULT_D);\n  const d = Math.min(n-1, dRaw);\n  const [pointiness, setPointiness] = useState(DEFAULT_POINTINESS);\n  const [starScale, setStarScale] = useState(1);\n  const [showStar, setShowStar] = useState(true);\n  const [showIntraShapes, setShowIntraShapes] = useState(true);\n  const [showInterShapes, setShowInterShapes] = useState(true);\n  const [showPoints, setShowPoints] = useState(true);\n\n  const sliders = (\n    <table><tbody>\n      <Slider setValue={setN} value={n} min={3} max={25} label={\"Star Size\"} />\n      <Slider setValue={setD} value={d} min={1} max={n-1} label={\"Divisor\"} />\n      <Slider setValue={setPointiness} value={pointiness} min={0} max={1.5} step={0.1} label={\"Intracircle Line Scale\"} />\n      <Slider setValue={setStarScale} value={starScale} min={0.5} max={1.5} step={0.1} label={\"Star Scale\"} />\n    </tbody></table>\n  );\n\n  const checkboxes = (\n    <table><tbody>\n      <Checkbox setValue={setShowStar} checked={showStar} label={\"Show Star\"} />\n      <Checkbox setValue={setShowIntraShapes} checked={showIntraShapes} label={\"Show Intracircle Lines\"} />\n      <Checkbox setValue={setShowInterShapes} checked={showInterShapes} label={\"Show Intercircle Lines\"} />\n      <Checkbox setValue={setShowPoints} checked={showPoints} label={\"Show Points\"} />\n    </tbody></table>\n  );\n\n  const starParameters = {n, d, pointiness, starScale};\n  const showParameters = {showStar, showIntraShapes, showInterShapes, showPoints};\n\n  const timeIncrementPerS = 0.1;\n  const timeDelay = 100;  // ms\n\n  const timeIncrement = timeIncrementPerS * timeDelay / 1000;\n\n  useEffect(() => {\n    var time = 0;\n    const incrementTime = () => {\n      const newTime = time + timeIncrement;\n      setTime(newTime);\n      time = newTime;\n    }\n    const timer = setInterval(incrementTime, timeDelay);\n  }, []);\n\n  return (\n    <div className='app'>\n      <div className='header'>\n        Inspired by <a href=\"https://www.youtube.com/watch?v=oEN0o9ZGmOM&t=1227s\">this great Mathologer video</a>.\n        <br />\n        \"Intracircle Line Scale\" and \"Star Scale\" can be tweaked to help the point path match the star better.\n      </div>\n      <span className='input-container'>\n        {sliders}\n        {checkboxes}\n      </span>\n      <StarVisualization\n          starParameters={starParameters}\n          timeParameters={{time: time, transitionTime: timeDelay }}\n          showParameters={showParameters}\n      />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}